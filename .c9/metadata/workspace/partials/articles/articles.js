{"filter":false,"title":"articles.js","tooltip":"/partials/articles/articles.js","undoManager":{"mark":31,"position":31,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":48,"column":4},"action":"insert","lines":["'use strict';","","var products = angular.module('myApp.products', ['ngRoute']);","","products.config(['$routeProvider', function($routeProvider) {","  $routeProvider.when('/products', {","    templateUrl: 'partials/products/products.html',","    controller: 'ProductsCtrl'","  });","  $routeProvider.when('/product', {","    templateUrl: 'partials/products/product.html',","    controller: 'ProductCtrl'","  });","  $routeProvider.when('/product/:id', {","    templateUrl: 'partials/products/product.html',","    controller: 'ProductCtrl'","  });","}]);","","products.controller('ProductsCtrl', ['$scope','$http', '$filter', '$routeParams', 'myConfig', function($scope, $http, $filter, $routeParams, myConfig) {","","  $scope.products = [];","  $scope.selectedFilterValue = '';","  $scope.selectedFilterField = 'category';","  $scope.selectedOrder = 'name';","","  $http.get(myConfig.apiUrl+'/products')","  .success(function(res){","    ","    $scope.products = res;","    ","  }).error(function(err) {","  ","      $scope.$emit('alert', {","          kind: 'danger',","          msg: err,","          title: \"Não foi possível acessar a lista de produtos. Verifique o motivo abaixo:\"","      });","  ","  });","","  $scope.selectFilter = function (field, value) {","    ","    $scope.selectedFilterField = field;","    $scope.selectedFilterValue = value;","    ","  }","  ","}]);"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":4},"end":{"row":2,"column":11},"action":"remove","lines":["product"]},{"start":{"row":2,"column":4},"end":{"row":2,"column":11},"action":"insert","lines":["article"]},{"start":{"row":2,"column":37},"end":{"row":2,"column":44},"action":"remove","lines":["product"]},{"start":{"row":2,"column":37},"end":{"row":2,"column":44},"action":"insert","lines":["article"]},{"start":{"row":4,"column":0},"end":{"row":4,"column":7},"action":"remove","lines":["product"]},{"start":{"row":4,"column":0},"end":{"row":4,"column":7},"action":"insert","lines":["article"]},{"start":{"row":5,"column":24},"end":{"row":5,"column":31},"action":"remove","lines":["product"]},{"start":{"row":5,"column":24},"end":{"row":5,"column":31},"action":"insert","lines":["article"]},{"start":{"row":6,"column":27},"end":{"row":6,"column":34},"action":"remove","lines":["product"]},{"start":{"row":6,"column":27},"end":{"row":6,"column":34},"action":"insert","lines":["article"]},{"start":{"row":6,"column":36},"end":{"row":6,"column":43},"action":"remove","lines":["product"]},{"start":{"row":6,"column":36},"end":{"row":6,"column":43},"action":"insert","lines":["article"]},{"start":{"row":9,"column":24},"end":{"row":9,"column":31},"action":"remove","lines":["product"]},{"start":{"row":9,"column":24},"end":{"row":9,"column":31},"action":"insert","lines":["article"]},{"start":{"row":10,"column":27},"end":{"row":10,"column":34},"action":"remove","lines":["product"]},{"start":{"row":10,"column":27},"end":{"row":10,"column":34},"action":"insert","lines":["article"]},{"start":{"row":10,"column":36},"end":{"row":10,"column":43},"action":"remove","lines":["product"]},{"start":{"row":10,"column":36},"end":{"row":10,"column":43},"action":"insert","lines":["article"]},{"start":{"row":13,"column":24},"end":{"row":13,"column":31},"action":"remove","lines":["product"]},{"start":{"row":13,"column":24},"end":{"row":13,"column":31},"action":"insert","lines":["article"]},{"start":{"row":14,"column":27},"end":{"row":14,"column":34},"action":"remove","lines":["product"]},{"start":{"row":14,"column":27},"end":{"row":14,"column":34},"action":"insert","lines":["article"]},{"start":{"row":14,"column":36},"end":{"row":14,"column":43},"action":"remove","lines":["product"]},{"start":{"row":14,"column":36},"end":{"row":14,"column":43},"action":"insert","lines":["article"]},{"start":{"row":19,"column":0},"end":{"row":19,"column":7},"action":"remove","lines":["product"]},{"start":{"row":19,"column":0},"end":{"row":19,"column":7},"action":"insert","lines":["article"]},{"start":{"row":21,"column":9},"end":{"row":21,"column":16},"action":"remove","lines":["product"]},{"start":{"row":21,"column":9},"end":{"row":21,"column":16},"action":"insert","lines":["article"]},{"start":{"row":26,"column":30},"end":{"row":26,"column":37},"action":"remove","lines":["product"]},{"start":{"row":26,"column":30},"end":{"row":26,"column":37},"action":"insert","lines":["article"]},{"start":{"row":29,"column":11},"end":{"row":29,"column":18},"action":"remove","lines":["product"]},{"start":{"row":29,"column":11},"end":{"row":29,"column":18},"action":"insert","lines":["article"]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":17},"end":{"row":7,"column":25},"action":"remove","lines":["Products"]},{"start":{"row":7,"column":17},"end":{"row":7,"column":25},"action":"insert","lines":["Articles"]},{"start":{"row":19,"column":21},"end":{"row":19,"column":29},"action":"remove","lines":["Products"]},{"start":{"row":19,"column":21},"end":{"row":19,"column":29},"action":"insert","lines":["Articles"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":17},"end":{"row":11,"column":24},"action":"remove","lines":["Product"]},{"start":{"row":11,"column":17},"end":{"row":11,"column":24},"action":"insert","lines":["Article"]},{"start":{"row":15,"column":17},"end":{"row":15,"column":24},"action":"remove","lines":["Product"]},{"start":{"row":15,"column":17},"end":{"row":15,"column":24},"action":"insert","lines":["Article"]}]}],[{"group":"doc","deltas":[{"start":{"row":48,"column":4},"end":{"row":49,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":0},"end":{"row":50,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":0},"end":{"row":187,"column":4},"action":"insert","lines":["products.controller('ProductCtrl', ['$scope','$http', '$filter', '$routeParams', 'myConfig', function($scope, $http, $filter, $routeParams, myConfig) {","","  $scope.saving_product = false;","  ","  $scope.selectedProduct = {};","","  if($routeParams.id){","    ","    $http.get(myConfig.apiUrl+'/product/'+$routeParams.id)","    .success(function(res) {","","      $scope.selectedProduct = res;","","    }).error(function(err) {","    ","        $scope.$emit('alert', {","            kind: 'danger',","            msg: err,","            title: \"Não foi possível acessar os dados do produto. Verifique o motivo abaixo:\"","        });","    ","    });","    ","  }","","  $scope.selectedProducFormSubmit = function () {","    ","    $scope.saving_product = true;","    ","    if($scope.selectedProduct._id){","      ","       $scope.productPut($scope.selectedProduct);","      ","    } else {","","      $scope.productPost($scope.selectedProduct); ","","    }","","  }","  ","  $scope.productPost = function(product) {","    ","    $http.post(myConfig.apiUrl + '/products', product)","    .success(function(resp) {","      ","        $scope.products = resp.data;","        window.location = (\"#/product/\" + resp._id);","        ","    })","    .error(function (resp) {","      ","      var error_list = [];","","      angular.forEach(resp.errors, function(error, path) {","        this.push(error.message);","      }, error_list);","      ","      $scope.$emit('alert', {","          kind: 'danger',","          msg: error_list,","          title: \"Não foi possível inserir o produto. Verifique o motivo abaixo:\"","      });","  ","    })","    .finally(function () {","      $scope.saving_product = false;","    });","  ","  };","","  $scope.productPut = function(product) {","    ","    $http.put(myConfig.apiUrl + '/products/'+product._id, product)","    .success(function(resp) {","      ","      $scope.products = resp.data;","","      $scope.$emit('alert', {","          kind: 'success',","          msg: '',","          title: \"Produto editado com sucesso\"","      });","","    })","    .error( function(resp) {","      ","      var error_list = [];","","      angular.forEach(resp.errors, function(error, path) {","        this.push(error.message);","      }, error_list);","      ","      $scope.$emit('alert', {","          kind: 'danger',","          msg: error_list,","          title: \"Não foi possível inserir o produto. Verifique o motivo abaixo:\"","      });","  ","    })","    .finally(function () {","      $scope.saving_product = false;","    });","  };","  ","  $scope.dropProduct = function(product) {","    ","    var confirmed = confirm('Deseja realmente excluir o produto ' + product.name + \"?\");","      ","    if (confirmed) {","","      $scope.saving_product = true;","        $http.delete(myConfig.apiUrl + '/products/' + product._id)","        .success(function() {","          window.location = (\"#/fair\");","        })","        .error(function (resp) {","          ","          var error_list = [];","    ","          angular.forEach(resp.errors, function(error, path) {","            this.push(error.message);","          }, error_list);","          ","          $scope.$emit('alert', {","              kind: 'danger',","              msg: error_list,","              title: \"Não foi possível inserir o produto. Verifique o motivo abaixo:\"","          });","    ","      })","      .finally(function () {","        $scope.saving_product = false;","      });","      ","    };","    ","  };"]}]}],[{"group":"doc","deltas":[{"start":{"row":187,"column":4},"end":{"row":188,"column":0},"action":"insert","lines":["",""]},{"start":{"row":188,"column":0},"end":{"row":188,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":188,"column":2},"end":{"row":189,"column":0},"action":"insert","lines":["",""]},{"start":{"row":189,"column":0},"end":{"row":189,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":189,"column":2},"end":{"row":189,"column":6},"action":"insert","lines":["}]);"]},{"start":{"row":189,"column":0},"end":{"row":189,"column":2},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":21},"end":{"row":50,"column":28},"action":"remove","lines":["Product"]},{"start":{"row":50,"column":21},"end":{"row":50,"column":28},"action":"insert","lines":["Article"]},{"start":{"row":54,"column":17},"end":{"row":54,"column":24},"action":"remove","lines":["Product"]},{"start":{"row":54,"column":17},"end":{"row":54,"column":24},"action":"insert","lines":["Article"]},{"start":{"row":61,"column":21},"end":{"row":61,"column":28},"action":"remove","lines":["Product"]},{"start":{"row":61,"column":21},"end":{"row":61,"column":28},"action":"insert","lines":["Article"]},{"start":{"row":79,"column":22},"end":{"row":79,"column":29},"action":"remove","lines":["Product"]},{"start":{"row":79,"column":22},"end":{"row":79,"column":29},"action":"insert","lines":["Article"]},{"start":{"row":81,"column":40},"end":{"row":81,"column":47},"action":"remove","lines":["Product"]},{"start":{"row":81,"column":40},"end":{"row":81,"column":47},"action":"insert","lines":["Article"]},{"start":{"row":85,"column":40},"end":{"row":85,"column":47},"action":"remove","lines":["Product"]},{"start":{"row":85,"column":40},"end":{"row":85,"column":47},"action":"insert","lines":["Article"]},{"start":{"row":155,"column":13},"end":{"row":155,"column":20},"action":"remove","lines":["Product"]},{"start":{"row":155,"column":13},"end":{"row":155,"column":20},"action":"insert","lines":["Article"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":0},"end":{"row":50,"column":8},"action":"remove","lines":["products"]},{"start":{"row":50,"column":0},"end":{"row":50,"column":8},"action":"insert","lines":["articles"]},{"start":{"row":93,"column":35},"end":{"row":93,"column":43},"action":"remove","lines":["products"]},{"start":{"row":93,"column":35},"end":{"row":93,"column":43},"action":"insert","lines":["articles"]},{"start":{"row":96,"column":15},"end":{"row":96,"column":23},"action":"remove","lines":["products"]},{"start":{"row":96,"column":15},"end":{"row":96,"column":23},"action":"insert","lines":["articles"]},{"start":{"row":123,"column":34},"end":{"row":123,"column":42},"action":"remove","lines":["products"]},{"start":{"row":123,"column":34},"end":{"row":123,"column":42},"action":"insert","lines":["articles"]},{"start":{"row":126,"column":13},"end":{"row":126,"column":21},"action":"remove","lines":["products"]},{"start":{"row":126,"column":13},"end":{"row":126,"column":21},"action":"insert","lines":["articles"]},{"start":{"row":162,"column":41},"end":{"row":162,"column":49},"action":"remove","lines":["products"]},{"start":{"row":162,"column":41},"end":{"row":162,"column":49},"action":"insert","lines":["articles"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":16},"end":{"row":52,"column":23},"action":"remove","lines":["product"]},{"start":{"row":52,"column":16},"end":{"row":52,"column":23},"action":"insert","lines":["article"]},{"start":{"row":58,"column":32},"end":{"row":58,"column":39},"action":"remove","lines":["product"]},{"start":{"row":58,"column":32},"end":{"row":58,"column":39},"action":"insert","lines":["article"]},{"start":{"row":77,"column":18},"end":{"row":77,"column":25},"action":"remove","lines":["product"]},{"start":{"row":77,"column":18},"end":{"row":77,"column":25},"action":"insert","lines":["article"]},{"start":{"row":81,"column":14},"end":{"row":81,"column":21},"action":"remove","lines":["product"]},{"start":{"row":81,"column":14},"end":{"row":81,"column":21},"action":"insert","lines":["article"]},{"start":{"row":85,"column":13},"end":{"row":85,"column":20},"action":"remove","lines":["product"]},{"start":{"row":85,"column":13},"end":{"row":85,"column":20},"action":"insert","lines":["article"]},{"start":{"row":91,"column":9},"end":{"row":91,"column":16},"action":"remove","lines":["product"]},{"start":{"row":91,"column":9},"end":{"row":91,"column":16},"action":"insert","lines":["article"]},{"start":{"row":91,"column":32},"end":{"row":91,"column":39},"action":"remove","lines":["product"]},{"start":{"row":91,"column":32},"end":{"row":91,"column":39},"action":"insert","lines":["article"]},{"start":{"row":93,"column":46},"end":{"row":93,"column":53},"action":"remove","lines":["product"]},{"start":{"row":93,"column":46},"end":{"row":93,"column":53},"action":"insert","lines":["article"]},{"start":{"row":97,"column":30},"end":{"row":97,"column":37},"action":"remove","lines":["product"]},{"start":{"row":97,"column":30},"end":{"row":97,"column":37},"action":"insert","lines":["article"]},{"start":{"row":116,"column":20},"end":{"row":116,"column":27},"action":"remove","lines":["product"]},{"start":{"row":116,"column":20},"end":{"row":116,"column":27},"action":"insert","lines":["article"]},{"start":{"row":121,"column":9},"end":{"row":121,"column":16},"action":"remove","lines":["product"]},{"start":{"row":121,"column":9},"end":{"row":121,"column":16},"action":"insert","lines":["article"]},{"start":{"row":121,"column":31},"end":{"row":121,"column":38},"action":"remove","lines":["product"]},{"start":{"row":121,"column":31},"end":{"row":121,"column":38},"action":"insert","lines":["article"]},{"start":{"row":123,"column":45},"end":{"row":123,"column":52},"action":"remove","lines":["product"]},{"start":{"row":123,"column":45},"end":{"row":123,"column":52},"action":"insert","lines":["article"]},{"start":{"row":123,"column":58},"end":{"row":123,"column":65},"action":"remove","lines":["product"]},{"start":{"row":123,"column":58},"end":{"row":123,"column":65},"action":"insert","lines":["article"]},{"start":{"row":151,"column":20},"end":{"row":151,"column":27},"action":"remove","lines":["product"]},{"start":{"row":151,"column":20},"end":{"row":151,"column":27},"action":"insert","lines":["article"]},{"start":{"row":155,"column":32},"end":{"row":155,"column":39},"action":"remove","lines":["product"]},{"start":{"row":155,"column":32},"end":{"row":155,"column":39},"action":"insert","lines":["article"]},{"start":{"row":157,"column":68},"end":{"row":157,"column":75},"action":"remove","lines":["product"]},{"start":{"row":157,"column":68},"end":{"row":157,"column":75},"action":"insert","lines":["article"]},{"start":{"row":161,"column":20},"end":{"row":161,"column":27},"action":"remove","lines":["product"]},{"start":{"row":161,"column":20},"end":{"row":161,"column":27},"action":"insert","lines":["article"]},{"start":{"row":162,"column":54},"end":{"row":162,"column":61},"action":"remove","lines":["product"]},{"start":{"row":162,"column":54},"end":{"row":162,"column":61},"action":"insert","lines":["article"]},{"start":{"row":182,"column":22},"end":{"row":182,"column":29},"action":"remove","lines":["product"]},{"start":{"row":182,"column":22},"end":{"row":182,"column":29},"action":"insert","lines":["article"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":57},"end":{"row":68,"column":64},"action":"remove","lines":["produto"]},{"start":{"row":68,"column":57},"end":{"row":68,"column":58},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":58},"end":{"row":68,"column":59},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":59},"end":{"row":68,"column":60},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":60},"end":{"row":68,"column":61},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":61},"end":{"row":68,"column":62},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":62},"end":{"row":68,"column":63},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":17},"end":{"row":75,"column":23},"action":"remove","lines":["Produc"]},{"start":{"row":75,"column":17},"end":{"row":75,"column":18},"action":"insert","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":18},"end":{"row":75,"column":19},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":19},"end":{"row":75,"column":20},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":20},"end":{"row":75,"column":21},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":21},"end":{"row":75,"column":22},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":22},"end":{"row":75,"column":23},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":23},"end":{"row":75,"column":24},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":54},"end":{"row":36,"column":61},"action":"remove","lines":["produto"]},{"start":{"row":36,"column":54},"end":{"row":36,"column":60},"action":"insert","lines":["artigo"]},{"start":{"row":111,"column":45},"end":{"row":111,"column":52},"action":"remove","lines":["produto"]},{"start":{"row":111,"column":45},"end":{"row":111,"column":51},"action":"insert","lines":["artigo"]},{"start":{"row":146,"column":45},"end":{"row":146,"column":52},"action":"remove","lines":["produto"]},{"start":{"row":146,"column":45},"end":{"row":146,"column":51},"action":"insert","lines":["artigo"]},{"start":{"row":157,"column":56},"end":{"row":157,"column":63},"action":"remove","lines":["produto"]},{"start":{"row":157,"column":56},"end":{"row":157,"column":62},"action":"insert","lines":["artigo"]},{"start":{"row":177,"column":49},"end":{"row":177,"column":56},"action":"remove","lines":["produto"]},{"start":{"row":177,"column":49},"end":{"row":177,"column":55},"action":"insert","lines":["artigo"]}]}],[{"group":"doc","deltas":[{"start":{"row":131,"column":18},"end":{"row":131,"column":25},"action":"remove","lines":["Produto"]},{"start":{"row":131,"column":18},"end":{"row":131,"column":24},"action":"insert","lines":["Artigo"]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":0},"end":{"row":53,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":0},"end":{"row":53,"column":1},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":0},"end":{"row":54,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":9},"end":{"row":53,"column":24},"action":"remove","lines":["selectedArticle"]},{"start":{"row":53,"column":9},"end":{"row":53,"column":16},"action":"insert","lines":["article"]},{"start":{"row":60,"column":13},"end":{"row":60,"column":28},"action":"remove","lines":["selectedArticle"]},{"start":{"row":60,"column":13},"end":{"row":60,"column":20},"action":"insert","lines":["article"]},{"start":{"row":74,"column":9},"end":{"row":74,"column":24},"action":"remove","lines":["selectedArticle"]},{"start":{"row":74,"column":9},"end":{"row":74,"column":16},"action":"insert","lines":["article"]},{"start":{"row":78,"column":14},"end":{"row":78,"column":29},"action":"remove","lines":["selectedArticle"]},{"start":{"row":78,"column":14},"end":{"row":78,"column":21},"action":"insert","lines":["article"]},{"start":{"row":80,"column":32},"end":{"row":80,"column":47},"action":"remove","lines":["selectedArticle"]},{"start":{"row":80,"column":32},"end":{"row":80,"column":39},"action":"insert","lines":["article"]},{"start":{"row":84,"column":32},"end":{"row":84,"column":47},"action":"remove","lines":["selectedArticle"]},{"start":{"row":84,"column":32},"end":{"row":84,"column":39},"action":"insert","lines":["article"]}]}],[{"group":"doc","deltas":[{"start":{"row":74,"column":9},"end":{"row":74,"column":26},"action":"remove","lines":["articleFormSubmit"]},{"start":{"row":74,"column":9},"end":{"row":74,"column":34},"action":"insert","lines":["selectedArticleFormSubmit"]}]}]]},"ace":{"folds":[],"scrolltop":542,"scrollleft":0,"selection":{"start":{"row":74,"column":9},"end":{"row":74,"column":26},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"4571f77a7747fab970576b05d9a2940800e87d61","timestamp":1427813997000}