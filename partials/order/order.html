<div class="row">
    <div class="col-sm-22 col-sm-offset-1">
        
        <h1>Pedido <span ng-bind="order._id"></span> <span class="label label-success" ng-if="order.pagseguro.transaction.status[0] == '3'">Pago</span></h1>

        <div class="row">
            <div class="col-sm-12">
                
                <h2>Dados</h2>
                <p><strong>Status do pagamento: </strong> <span ng-bind="statuses[order.pagseguro.transaction.status[0]] || 'Aguardando pagamento'"></span></p>
                <p><strong>Cliente: </strong> <a class="text-white" href="#/user/{{order.customer._id}}" ng-bind="order.customer.name || order.customer.email"></a></p>
                <p><strong>Total: </strong> <span ng-bind="order.total | currency:'R$':2"></span></p>
                <p><strong>Data: </strong> <span ng-bind="order.updated | date:'dd/MM/yyyy'"></span></p>
                <div class="row" ng-if="order.pagseguro.transaction.status[0] != '3'">
                    <div class="col-xs-12">
                        <a class="btn btn-success btn-block" href="https://pagseguro.uol.com.br/v2/checkout/payment.html?code={{order.pagseguro.checkout.code}}" target="_blank">
                            Pagar
                            <br>Compra 100% segura.
                        </a>
                    </div>
                    <div class="col-xs-12">
                    </div>
                </div>
                
            </div>
            <div class="col-sm-12">
                
                <h2>Entrega</h2>

                <div class="row" ng-if="order.pagseguro.transaction.status[0] != '3'">
                    <div class="col-sm-12">
                        <p><strong>CEP: </strong> <span ng-bind="order.cep"></span></p>
                        <p><strong>Rua: </strong> <span ng-bind="order.street"></span></p>
                        <p><strong>Número: </strong> <span ng-bind="order.number"></span></p>
                        <p><strong>Complemento: </strong> <span ng-bind="order.complement"></span></p>
                        <p><strong>Bairro: </strong> <span ng-bind="order.district"></span></p>
                    </div>
                    <div class="col-sm-12">
                        <p><strong>Cidade: </strong> <span ng-bind="order.city"></span></p>
                        <p><strong>Estado: </strong> <span ng-bind="order.state"></span></p>
                        <p><strong>Entrega: </strong> <span ng-bind="order.deliveryOption"></span></p>
                        <p><strong>Referência: </strong> <span ng-bind="order.address_ref"></span></p>   
                    </div>
                </div>
                
            </div>
        </div>


        <h2>Produtos</h2>
        <table class="table table-condensed">
            <thead>
                <tr>
                    <td>Produto</td>
                    <td align="right">Quantidade</td>
                    <td align="right">Preço unitário</td>
                    <td align="right">Total</td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="product in order.products">
                    <td ng-bind="product.name"
    					tooltip-placement="right"
    					tooltip-html-unsafe="{{product.name}} <hr> {{product.dscr}}" 
    					tooltip-append-to-body="true" 
                    ></td>
                    <td ng-bind="product.quantity" align="right"></td>
                    <td ng-bind="product.price | currency:'R$':2" align="right"></td>
                    <td ng-bind="product.quantity*product.price | currency:'R$':2" align="right"></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td align="right"><h4>Total:</h4></td>
                    <td align="right"><h4 ng-bind="order.total | currency:'R$':2"></h4></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>